#!/usr/bin/env python3
"""
직업별 설계 방향성 선택 시스템
매우 유기적이고 독특한 기술 설계를 위한 방향성 결정 도구
"""

import json
import os
from typing import Dict, List

class JobDesignSelector:
    def __init__(self):
        self.design_options = self._create_design_options()
        self.selected_designs = {}
        
    def _create_design_options(self) -> Dict:
        """28개 직업별 3가지 설계 방향성 정의"""
        return {
            "전사": {
                "방향1": {
                    "이름": "🛡️ 불굴의 방어전사",
                    "컨셉": "절대 쓰러지지 않는 철벽 탱커",
                    "특징": ["방어력 기반 반격", "HP 낮을수록 강화", "파티 보호 특화"],
                    "키워드": ["방어", "불굴", "보호", "반격"],
                    "핵심특성": ["불굴의_의지", "방어_숙련", "위협적_존재"]
                },
                "방향2": {
                    "이름": "⚔️ 광전의 공격전사", 
                    "컨셉": "전투광기로 적을 학살하는 딜러",
                    "특징": ["킬 스택 시스템", "연속 공격 특화", "공격력 누적 증가"],
                    "키워드": ["광기", "연타", "학살", "폭발"],
                    "핵심특성": ["전투_광기", "피의_갈증", "불굴의_의지"]
                },
                "방향3": {
                    "이름": "⚡ 균형의 전투마스터",
                    "컨셉": "공수균형과 상황적응의 올라운더",
                    "특징": ["상황별 전환", "적응형 스탯", "다목적 스킬"],
                    "키워드": ["균형", "적응", "전환", "마스터"],
                    "핵심특성": ["불굴의_의지", "방어_숙련", "전투_광기"]
                }
            },
            
            "아크메이지": {
                "방향1": {
                    "이름": "🔮 순수 마력조작사",
                    "컨셉": "마력 자체를 다루는 순수 마법사",
                    "특징": ["MP 효율 극대화", "마력 순환 시스템", "마법 연쇄 반응"],
                    "키워드": ["순환", "조작", "효율", "연쇄"],
                    "핵심특성": ["마나_순환", "마력_집중", "마법_폭주"]
                },
                "방향2": {
                    "이름": "🌟 원소지배 마도사",
                    "컨셉": "모든 원소를 지배하는 속성 마스터",
                    "특징": ["다속성 조합", "원소 융합", "속성 변환"],
                    "키워드": ["원소", "지배", "융합", "변환"],
                    "핵심특성": ["원소_지배", "마법_폭주", "마법_연구자"]
                },
                "방향3": {
                    "이름": "📚 현자의 연구자",
                    "컨셉": "지식과 연구로 성장하는 학자형 마법사",
                    "특징": ["경험치 보너스", "스킬 진화", "지식 축적"],
                    "키워드": ["연구", "진화", "지식", "성장"],
                    "핵심특성": ["마법_연구자", "마나_순환", "원소_지배"]
                }
            },
            
            "궁수": {
                "방향1": {
                    "이름": "🎯 정밀 저격수",
                    "컨셉": "완벽한 정확도의 원거리 암살자",
                    "특징": ["크리티컬 특화", "약점 조준", "일격 필살"],
                    "키워드": ["정밀", "저격", "치명", "조준"],
                    "핵심특성": ["정밀_사격", "사냥꾼의_직감", "원거리_숙련"]
                },
                "방향2": {
                    "이름": "💨 기동형 유격수",
                    "컨셉": "빠른 이동과 회피로 살아남는 전술가",
                    "특징": ["이동 보너스", "회피 특화", "히트앤런"],
                    "키워드": ["기동", "회피", "유격", "전술"],
                    "핵심특성": ["민첩한_몸놀림", "바람의_가호", "원거리_숙련"]
                },
                "방향3": {
                    "이름": "🌪️ 연사형 사수",
                    "컨셉": "압도적 화력으로 적을 제압하는 화력충",
                    "특징": ["다중 공격", "연속 사격", "광역 피해"],
                    "키워드": ["연사", "화력", "압도", "제압"],
                    "핵심특성": ["정밀_사격", "바람의_가호", "사냥꾼의_직감"]
                }
            },
            
            "도적": {
                "방향1": {
                    "이름": "👤 완전 암살자",
                    "컨셉": "그림자에서 나타나 한 방에 처치하는 암살자",
                    "특징": ["은신 특화", "크리티컬 극대화", "즉사 확률"],
                    "키워드": ["암살", "은신", "즉사", "그림자"],
                    "핵심특성": ["그림자_은신", "치명적_급소", "독_숙련"]
                },
                "방향2": {
                    "이름": "☠️ 독술 전문가",
                    "컨셉": "다양한 독으로 적을 서서히 무력화",
                    "특징": ["독 중첩", "지속 피해", "상태이상 특화"],
                    "키워드": ["독성", "중첩", "무력화", "지속"],
                    "핵심특성": ["독_숙련", "치명적_급소", "빠른_손놀림"]
                },
                "방향3": {
                    "이름": "🤏 만능 도적",
                    "컨셉": "아이템과 기교로 승부하는 만능 서포터",
                    "특징": ["아이템 효율", "보물 발견", "유틸리티"],
                    "키워드": ["만능", "기교", "효율", "발견"],
                    "핵심특성": ["빠른_손놀림", "도적의_직감", "그림자_은신"]
                }
            },
            
            "성기사": {
                "방향1": {
                    "이름": "✨ 신성한 수호자",
                    "컨셉": "신의 가호로 파티를 보호하는 수호기사",
                    "특징": ["파티 보호", "신성 피해", "치유 지원"],
                    "키워드": ["신성", "수호", "가호", "보호"],
                    "핵심특성": ["신성한_가호", "치유의_빛", "수호의_맹세"]
                },
                "방향2": {
                    "이름": "⚔️ 정의의 심판자",
                    "컨셉": "악을 응징하는 공격적 성전사",
                    "특징": ["악 특효", "심판 피해", "분노 증폭"],
                    "키워드": ["정의", "심판", "응징", "분노"],
                    "핵심특성": ["정의의_분노", "축복받은_무기", "신성한_가호"]
                },
                "방향3": {
                    "이름": "🛡️ 축복의 팔라딘",
                    "컨셉": "균형잡힌 공수와 지원을 겸비한 팔라딘",
                    "특징": ["버프 특화", "회복 보조", "균형 스탯"],
                    "키워드": ["축복", "균형", "지원", "회복"],
                    "핵심특성": ["축복받은_무기", "치유의_빛", "수호의_맹세"]
                }
            },
            
            "암흑기사": {
                "방향1": {
                    "이름": "🧛 흡혈 딜러",
                    "컨셉": "적의 생명력을 흡수해 성장하는 뱀파이어 기사",
                    "특징": ["생명력 흡수", "피해→회복", "지속 전투"],
                    "키워드": ["흡혈", "흡수", "재생", "지속"],
                    "핵심특성": ["생명_흡수", "어둠의_계약", "불사의_의지"]
                },
                "방향2": {
                    "이름": "😈 공포의 다크로드",
                    "컨셉": "공포와 저주로 적을 지배하는 암흑영주",
                    "특징": ["공포 오라", "적 디버프", "정신 지배"],
                    "키워드": ["공포", "지배", "저주", "암흑"],
                    "핵심특성": ["공포_오라", "어둠_조작", "어둠의_계약"]
                },
                "방향3": {
                    "이름": "💀 불사의 사령술사",
                    "컨셉": "죽음을 거부하고 부활하는 불멸의 존재",
                    "특징": ["부활 시스템", "체력 회복", "불사 효과"],
                    "키워드": ["불사", "부활", "불멸", "회복"],
                    "핵심특성": ["불사의_의지", "생명_흡수", "어둠의_계약"]
                }
            },
            
            "몽크": {
                "방향1": {
                    "이름": "⚡ 연타 무술가",
                    "컨셉": "연속 공격으로 콤보를 쌓는 격투가",
                    "특징": ["콤보 시스템", "연속 공격", "피해 누적"],
                    "키워드": ["연타", "콤보", "격투", "누적"],
                    "핵심특성": ["연타_숙련", "내공_순환", "기절_공격"]
                },
                "방향2": {
                    "이름": "🧘 내공 수도승",
                    "컨셉": "내공과 정신력으로 싸우는 수행자",
                    "특징": ["MP 관리", "정신 저항", "명상 회복"],
                    "키워드": ["내공", "수행", "정신", "명상"],
                    "핵심특성": ["내공_순환", "정신_수양", "참선의_깨달음"]
                },
                "방향3": {
                    "이름": "👊 기절 제압술사",
                    "컨셉": "적을 무력화하고 제압하는 컨트롤러",
                    "특징": ["기절 특화", "상태이상", "제압 효과"],
                    "키워드": ["제압", "기절", "무력화", "컨트롤"],
                    "핵심특성": ["기절_공격", "정신_수양", "연타_숙련"]
                }
            },
            
            "바드": {
                "방향1": {
                    "이름": "🎵 파티 버퍼",
                    "컨셉": "노래로 파티 전체를 강화하는 지원가",
                    "특징": ["파티 버프", "전체 강화", "지속 효과"],
                    "키워드": ["버프", "지원", "강화", "파티"],
                    "핵심특성": ["전투_노래", "용기의_찬송", "영감의_리듬"]
                },
                "방향2": {
                    "이름": "🎼 치유 음유시인",
                    "컨셉": "치유와 회복에 특화된 힐러 바드",
                    "특징": ["지속 치유", "MP 회복", "상태이상 해제"],
                    "키워드": ["치유", "회복", "정화", "재생"],
                    "핵심특성": ["치유의_선율", "영감의_리듬", "마법_해제"]
                },
                "방향3": {
                    "이름": "🎺 전투 지휘관",
                    "컨셉": "전투를 지휘하고 전술을 조율하는 지휘관",
                    "특징": ["전투 지휘", "크리티컬 보조", "디버프 해제"],
                    "키워드": ["지휘", "전술", "조율", "크리티컬"],
                    "핵심특성": ["용기의_찬송", "마법_해제", "전투_노래"]
                }
            },
            
            "네크로맨서": {
                "방향1": {
                    "이름": "💀 생명력 흡수마",
                    "컨셉": "적의 생명력과 마력을 흡수하는 흡혈마법사",
                    "특징": ["생명 흡수", "마나 흡수", "동시 회복"],
                    "키워드": ["흡수", "생명", "마나", "회복"],
                    "핵심특성": ["생명력_흡수", "어둠의_계약", "영혼_흡수"]
                },
                "방향2": {
                    "이름": "🌑 저주술사",
                    "컨셉": "저주와 디버프로 적을 약화시키는 디버퍼",
                    "특징": ["저주 특화", "디버프 중첩", "회복 방해"],
                    "키워드": ["저주", "약화", "디버프", "방해"],
                    "핵심특성": ["저주술", "죽음의_오라", "어둠의_계약"]
                },
                "방향3": {
                    "이름": "👻 영혼 조작자",
                    "컨셉": "죽은 자의 영혼을 다루는 사령술사",
                    "특징": ["영혼 흡수", "마력 증가", "적 처치 보너스"],
                    "키워드": ["영혼", "사령", "조작", "증가"],
                    "핵심특성": ["영혼_흡수", "어둠의_계약", "생명력_흡수"]
                }
            },
            
            "용기사": {
                "방향1": {
                    "이름": "🐲 화염 드래곤나이트",
                    "컨셉": "용의 화염으로 전장을 불태우는 화염기사",
                    "특징": ["화염 특화", "지속 화상", "광역 피해"],
                    "키워드": ["화염", "용염", "화상", "광역"],
                    "핵심특성": ["용의_숨결", "용의_분노", "날개_돌격"]
                },
                "방향2": {
                    "이름": "⚔️ 비늘 방어기사",
                    "컨셉": "용의 비늘로 보호받는 방어형 기사",
                    "특징": ["물리 저항", "상태이상 저항", "반격 시스템"],
                    "키워드": ["비늘", "방어", "저항", "반격"],
                    "핵심특성": ["비늘_방어", "용족의_긍지", "용의_분노"]
                },
                "방향3": {
                    "이름": "💨 날개 돌격기사",
                    "컨셉": "용의 날개로 기동력을 확보한 돌격기사",
                    "특징": ["추가 행동", "크리티컬 보너스", "기동성"],
                    "키워드": ["날개", "돌격", "기동", "연속"],
                    "핵심특성": ["날개_돌격", "용의_분노", "용의_숨결"]
                }
            },
            
            "검성": {
                "방향1": {
                    "이름": "⚔️ 검술 마스터",
                    "컨셉": "완벽한 검술로 적을 압도하는 검의 달인",
                    "특징": ["검술 보너스", "연속 공격", "무기 보호"],
                    "키워드": ["검술", "달인", "마스터", "완벽"],
                    "핵심특성": ["검술_달인", "검의_의지", "연속_베기"]
                },
                "방향2": {
                    "이름": "⚡ 검기 폭발검사",
                    "컨셉": "검기로 폭발적 피해를 주는 폭딜 검사",
                    "특징": ["검기 피해", "폭발 효과", "높은 배율"],
                    "키워드": ["검기", "폭발", "충격", "배율"],
                    "핵심특성": ["검기_충격", "연속_베기", "검술_달인"]
                },
                "방향3": {
                    "이름": "🛡️ 완벽방어 검사",
                    "컨셉": "완벽한 방어와 반격을 겸비한 검사",
                    "특징": ["완전 방어", "방어 반격", "피해 무효"],
                    "키워드": ["완벽", "방어", "반격", "무효"],
                    "핵심특성": ["완벽한_방어", "검술_달인", "검의_의지"]
                }
            },
            
            "정령술사": {
                "방향1": {
                    "이름": "🧚 정령 친화술사",
                    "컨셉": "모든 정령과 소통하는 자연의 친구",
                    "특징": ["속성 강화", "정령 보호", "자연 회복"],
                    "키워드": ["정령", "친화", "자연", "보호"],
                    "핵심특성": ["정령_친화", "자연의_축복", "마나_순환"]
                },
                "방향2": {
                    "이름": "🌟 원소 조합술사",
                    "컨셉": "다양한 원소를 조합해 새로운 효과를 만드는 연금술사",
                    "특징": ["원소 조합", "연계 피해", "복합 효과"],
                    "키워드": ["조합", "연계", "복합", "창조"],
                    "핵심특성": ["원소_조화", "원소_폭발", "정령_친화"]
                },
                "방향3": {
                    "이름": "💥 원소 폭발술사",
                    "컨셉": "원소의 폭발로 광역 피해를 주는 폭딜러",
                    "특징": ["광역 폭발", "크리티컬 특화", "마법 연쇄"],
                    "키워드": ["폭발", "광역", "연쇄", "파괴"],
                    "핵심특성": ["원소_폭발", "마나_순환", "원소_조화"]
                }
            },
            
            "시간술사": {
                "방향1": {
                    "이름": "⏸️ 시공 조작자",
                    "컨셉": "시간과 공간을 자유자재로 조작하는 시공술사",
                    "특징": ["시간 정지", "행동 지연", "순간 가속"],
                    "키워드": ["시공조작", "정지", "지연", "가속"],
                    "핵심특성": ["시간_정지", "순간_가속", "인과_조작"]
                },
                "방향2": {
                    "이름": "⏪ 과거 회귀술사",
                    "컨셉": "과거로 돌아가 실수를 되돌리는 시간여행자",
                    "특징": ["피해 되돌리기", "재계산", "실패 무효"],
                    "키워드": ["회귀", "되돌리기", "재계산", "무효"],
                    "핵심특성": ["과거_회귀", "인과_조작", "시간_인식"]
                },
                "방향3": {
                    "이름": "🔮 미래 예지술사",
                    "컨셉": "미래를 내다보고 최적의 행동을 취하는 예언자",
                    "특징": ["행동 예측", "최적화", "확률 조작"],
                    "키워드": ["예지", "예측", "최적화", "확률"],
                    "핵심특성": ["시간_인식", "순간_가속", "과거_회귀"]
                }
            },
            
            "연금술사": {
                "방향1": {
                    "이름": "⚗️ 포션 마스터",
                    "컨셉": "최고급 포션으로 파티를 지원하는 연금술의 달인",
                    "특징": ["포션 효과 극대화", "회복 특화", "버프 지원"],
                    "키워드": ["포션", "회복", "지원", "강화"],
                    "핵심특성": ["포션_제조", "마법_물질", "실험_정신"]
                },
                "방향2": {
                    "이름": "💥 폭발물 전문가",
                    "컨셉": "다양한 폭발물로 적을 섬멸하는 폭파전문가",
                    "특징": ["폭발 피해 증가", "광역 특화", "연쇄 폭발"],
                    "키워드": ["폭발", "섬멸", "광역", "연쇄"],
                    "핵심특성": ["폭발물_전문", "마법_물질", "원소_변환"]
                },
                "방향3": {
                    "이름": "🔬 변환 연구자",
                    "컨셉": "원소와 물질을 변환하는 연금술 연구자",
                    "특징": ["속성 변환", "저항 무시", "랜덤 효과"],
                    "키워드": ["변환", "연구", "무시", "실험"],
                    "핵심특성": ["원소_변환", "실험_정신", "마법_물질"]
                }
            },
            
            "차원술사": {
                "방향1": {
                    "이름": "🌌 공간 지배자",
                    "컨셉": "차원과 공간을 자유자재로 다루는 공간술사",
                    "특징": ["무제한 보관", "공간 이동", "차원 균열"],
                    "키워드": ["공간", "차원", "지배", "균열"],
                    "핵심특성": ["차원_보관", "공간_이동", "차원_균열"]
                },
                "방향2": {
                    "이름": "🌀 확률 조작자",
                    "컨셉": "평행우주의 가능성을 조작하는 확률술사",
                    "특징": ["재시도 가능", "확률 조작", "다중 결과"],
                    "키워드": ["확률", "평행", "재시도", "조작"],
                    "핵심특성": ["평행우주", "공간_왜곡", "공간_이동"]
                },
                "방향3": {
                    "이름": "🔄 차원 이동술사",
                    "컨셉": "순간이동과 회피에 특화된 기동술사",
                    "특징": ["순간이동", "공격 회피", "위치 변경"],
                    "키워드": ["이동", "순간", "회피", "기동"],
                    "핵심특성": ["공간_이동", "공간_왜곡", "차원_보관"]
                }
            },
            
            "암살자": {
                "방향1": {
                    "이름": "💀 완벽 암살자",
                    "컨셉": "그림자에서 나타나 확실히 처치하는 완벽한 킬러",
                    "특징": ["은신 극대화", "크리티컬 특화", "즉사 확률"],
                    "키워드": ["암살", "완벽", "은신", "즉사"],
                    "핵심특성": ["그림자_이동", "치명타_특화", "은신_공격"]
                },
                "방향2": {
                    "이름": "☠️ 독살 전문가",
                    "컨셉": "각종 독으로 적을 서서히 죽이는 독살자",
                    "특징": ["독 피해 극대화", "독 중첩", "지속 피해"],
                    "키워드": ["독살", "중독", "지속", "독성"],
                    "핵심특성": ["독날_무기", "연막탄", "치명타_특화"]
                },
                "방향3": {
                    "이름": "👤 그림자 조작자",
                    "컨셉": "그림자를 자유자재로 조작하는 그림자술사",
                    "특징": ["그림자 조작", "연막 활용", "은신 연장"],
                    "키워드": ["그림자", "조작", "연막", "은신"],
                    "핵심특성": ["연막탄", "그림자_이동", "은신_공격"]
                }
            },
            
            "기계공학자": {
                "방향1": {
                    "이름": "🤖 포탑 엔지니어",
                    "컨셉": "자동 포탑으로 전장을 지배하는 공학자",
                    "특징": ["포탑 설치", "자동 공격", "전장 통제"],
                    "키워드": ["포탑", "자동", "엔지니어", "통제"],
                    "핵심특성": ["자동_포탑", "기계_정비", "강화_장비"]
                },
                "방향2": {
                    "이름": "💣 폭탄 전문가",
                    "컨셉": "무제한 폭탄으로 적을 박살내는 폭파전문가",
                    "특징": ["폭탄 무제한", "폭발 피해", "광역 특화"],
                    "키워드": ["폭탄", "폭발", "무제한", "박살"],
                    "핵심특성": ["폭탄_제작", "오버클럭", "강화_장비"]
                },
                "방향3": {
                    "이름": "⚙️ 장비 강화술사",
                    "컨셉": "모든 장비를 극한까지 강화하는 장비마스터",
                    "특징": ["장비 효과 증가", "오버클럭", "지속 강화"],
                    "키워드": ["강화", "장비", "오버클럭", "마스터"],
                    "핵심특성": ["강화_장비", "오버클럭", "기계_정비"]
                }
            },
            
            "무당": {
                "방향1": {
                    "이름": "👻 영혼 소통자",
                    "컨셉": "영혼과 소통하여 정보와 보호를 얻는 영매",
                    "특징": ["시야 확장", "영적 보호", "정보 획득"],
                    "키워드": ["영혼", "소통", "보호", "정보"],
                    "핵심특성": ["시야_확장", "영적_보호", "무당의_직감"]
                },
                "방향2": {
                    "이름": "⚡ 정령 퇴치사",
                    "컨셉": "악령과 언데드를 퇴치하는 전문 퇴마사",
                    "특징": ["언데드 특효", "악령 퇴치", "정령 가호"],
                    "키워드": ["퇴치", "퇴마", "특효", "가호"],
                    "핵심특성": ["악령_퇴치", "정령_가호", "영적_보호"]
                },
                "방향3": {
                    "이름": "🔮 직감 예언자",
                    "컨셉": "뛰어난 직감으로 위험을 미리 감지하는 예언자",
                    "특징": ["위험 감지", "크리티컬 회피", "직감 보너스"],
                    "키워드": ["직감", "예언", "감지", "회피"],
                    "핵심특성": ["무당의_직감", "시야_확장", "정령_가호"]
                }
            },
            
            "해적": {
                "방향1": {
                    "이름": "💰 보물 사냥꾼",
                    "컨셉": "보물과 골드에 집착하는 탐욕스러운 해적",
                    "특징": ["골드 획득 증가", "보물 발견", "럭키 효과"],
                    "키워드": ["보물", "골드", "탐욕", "럭키"],
                    "핵심특성": ["보물_사냥꾼", "럭키_스트라이크", "해적의_경험"]
                },
                "방향2": {
                    "이름": "⚔️ 이도류 검사",
                    "컨셉": "양손에 든 칼로 연속 공격하는 이도류 마스터",
                    "특징": ["이도류 공격", "연속 타격", "공격 횟수 증가"],
                    "키워드": ["이도류", "연속", "타격", "마스터"],
                    "핵심특성": ["이도류_전투", "바다의_분노", "럭키_스트라이크"]
                },
                "방향3": {
                    "이름": "🌊 바다의 광전사",
                    "컨셉": "바다의 분노로 폭주하는 광전사 해적",
                    "특징": ["분노 누적", "연속 공격 보너스", "폭주 상태"],
                    "키워드": ["분노", "폭주", "바다", "광전"],
                    "핵심특성": ["바다의_분노", "이도류_전투", "해적의_경험"]
                }
            },
            
            "사무라이": {
                "방향1": {
                    "이름": "⚡ 일격필살 검사",
                    "컨셉": "한 방에 적을 베어내는 일격필살의 달인",
                    "특징": ["일격 필살", "크리티컬 극대화", "무사도 정신"],
                    "키워드": ["일격", "필살", "무사도", "달인"],
                    "핵심특성": ["일격필살", "무사도", "명예의_맹세"]
                },
                "방향2": {
                    "이름": "🗾 카타나 마스터",
                    "컨셉": "카타나 검술의 극의를 터득한 검술가",
                    "특징": ["카타나 특화", "검술 보너스", "참선 수행"],
                    "키워드": ["카타나", "검술", "극의", "수행"],
                    "핵심특성": ["카타나_숙련", "참선", "일격필살"]
                },
                "방향3": {
                    "이름": "🎌 명예의 전사",
                    "컨셉": "명예와 의리를 중시하는 진정한 사무라이",
                    "특징": ["디버프 무효", "명예 보너스", "의리 시스템"],
                    "키워드": ["명예", "의리", "사무라이", "정신"],
                    "핵심특성": ["명예의_맹세", "무사도", "참선"]
                }
            },
            
            "드루이드": {
                "방향1": {
                    "이름": "🌿 자연 치유사",
                    "컨셉": "자연의 힘으로 지속적인 치유를 제공하는 힐러",
                    "특징": ["지속 치유", "자연 회복", "HP/MP 재생"],
                    "키워드": ["자연", "치유", "재생", "회복"],
                    "핵심특성": ["자연의_가호", "자연_치유", "계절의_힘"]
                },
                "방향2": {
                    "이름": "🐺 변신 드루이드",
                    "컨셉": "다양한 동물로 변신하여 상황에 맞게 대응하는 변신술사",
                    "특징": ["동물 변신", "형태별 특화", "적응형 스탯"],
                    "키워드": ["변신", "동물", "적응", "형태"],
                    "핵심특성": ["동물_변신", "식물_조종", "계절의_힘"]
                },
                "방향3": {
                    "이름": "🌱 식물 조종술사",
                    "컨셉": "식물을 조종하여 적을 속박하고 통제하는 컨트롤러",
                    "특징": ["적 이동 제한", "식물 조종", "전장 통제"],
                    "키워드": ["식물", "조종", "속박", "통제"],
                    "핵심특성": ["식물_조종", "자연의_가호", "동물_변신"]
                }
            },
            
            "철학자": {
                "방향1": {
                    "이름": "🧠 현자의 지혜자",
                    "컨셉": "깊은 지혜로 MP를 효율적으로 사용하는 현자",
                    "특징": ["MP 효율 극대화", "스킬 코스트 감소", "지식 축적"],
                    "키워드": ["지혜", "현자", "효율", "지식"],
                    "핵심특성": ["현자의_지혜", "깨달음", "사색의_힘"]
                },
                "방향2": {
                    "이름": "📖 경험 학자",
                    "컨셉": "모든 경험을 학습으로 전환하는 성장형 학자",
                    "특징": ["경험치 보너스", "스킬 학습", "지속 성장"],
                    "키워드": ["학습", "성장", "경험", "학자"],
                    "핵심특성": ["깨달음", "사색의_힘", "철학적_논증"]
                },
                "방향3": {
                    "이름": "🤔 논리 조작자",
                    "컨셉": "논리적 사고로 적을 혼란시키는 정신술사",
                    "특징": ["적 혼란", "논리적 사고", "회피 증가"],
                    "키워드": ["논리", "혼란", "사고", "조작"],
                    "핵심특성": ["철학적_논증", "논리적_사고", "현자의_지혜"]
                }
            },
            
            "검투사": {
                "방향1": {
                    "이름": "🏟️ 관중의 영웅",
                    "컨셉": "관중의 환호를 받으며 강해지는 투기장의 스타",
                    "특징": ["킬 수 보너스", "관중 환호", "능력치 증가"],
                    "키워드": ["관중", "환호", "영웅", "스타"],
                    "핵심특성": ["관중의_환호", "검투_기술", "전사의_혼"]
                },
                "방향2": {
                    "이름": "⚔️ 반격 검투사",
                    "컨셉": "적의 공격을 받아내고 반격하는 카운터 전문가",
                    "특징": ["반격 확률 증가", "카운터 피해", "방어 특화"],
                    "키워드": ["반격", "카운터", "방어", "전문"],
                    "핵심특성": ["검투_기술", "생존_본능", "투기장_경험"]
                },
                "방향3": {
                    "이름": "💀 생존 전문가",
                    "컨셉": "어떤 상황에서도 살아남는 극한 생존자",
                    "특징": ["생존 본능", "위기 회피", "홀로 전투"],
                    "키워드": ["생존", "본능", "회피", "극한"],
                    "핵심특성": ["생존_본능", "전사의_혼", "관중의_환호"]
                }
            },
            
            "기사": {
                "방향1": {
                    "이름": "🛡️ 명예의 수호기사",
                    "컨셉": "명예를 지키며 동료를 보호하는 수호기사",
                    "특징": ["파티 보호", "명예 시스템", "수호 특화"],
                    "키워드": ["명예", "수호", "보호", "기사"],
                    "핵심특성": ["명예의_수호", "기사도_정신", "영광의_맹세"]
                },
                "방향2": {
                    "이름": "🏇 돌격 창기사",
                    "컨셉": "창을 들고 적진을 돌파하는 돌격 전문가",
                    "특징": ["창술 특화", "돌격 피해", "크리티컬 보너스"],
                    "키워드": ["돌격", "창술", "돌파", "기사"],
                    "핵심특성": ["창술_숙련", "용맹한_돌격", "영광의_맹세"]
                },
                "방향3": {
                    "이름": "👑 영광의 지휘관",
                    "컨셉": "파티원들에게 영광을 나누어주는 지휘관",
                    "특징": ["파티 버프", "지휘 효과", "영광 공유"],
                    "키워드": ["영광", "지휘", "버프", "공유"],
                    "핵심특성": ["영광의_맹세", "명예의_수호", "기사도_정신"]
                }
            },
            
            "신관": {
                "방향1": {
                    "이름": "☀️ 치유 전문 신관",
                    "컨셉": "신의 가호로 강력한 치유를 제공하는 힐러",
                    "특징": ["치유 효과 극대화", "회복 특화", "신성 보호"],
                    "키워드": ["치유", "회복", "신성", "가호"],
                    "핵심특성": ["치유_특화", "신의_가호", "축복의_기도"]
                },
                "방향2": {
                    "이름": "⚔️ 전투 신관",
                    "컨셉": "언데드를 심판하는 전투형 성직자",
                    "특징": ["언데드 특효", "신성 피해", "심판 효과"],
                    "키워드": ["심판", "전투", "언데드", "특효"],
                    "핵심특성": ["성스러운_빛", "신의_가호", "신탁"]
                },
                "방향3": {
                    "이름": "🙏 기적의 성인",
                    "컨셉": "신의 기적을 일으키는 성스러운 존재",
                    "특징": ["랜덤 기적", "크리티컬 무효", "축복 효과"],
                    "키워드": ["기적", "성인", "축복", "신성"],
                    "핵심특성": ["신탁", "축복의_기도", "치유_특화"]
                }
            },
            
            "마검사": {
                "방향1": {
                    "이름": "🗡️ 마검 일체술사",
                    "컨셉": "마법과 검술이 완벽하게 융합된 마검사",
                    "특징": ["물리+마법 동시", "마검 일체", "이중 속성"],
                    "키워드": ["마검", "일체", "융합", "완벽"],
                    "핵심특성": ["마검_일체", "이중_속성", "마검_오의"]
                },
                "방향2": {
                    "이름": "⚡ 검기 폭발마검사",
                    "컨셉": "검에 마력을 충전해 폭발시키는 폭딜러",
                    "특징": ["마력 충전", "검기 폭발", "연쇄 피해"],
                    "키워드": ["충전", "폭발", "검기", "연쇄"],
                    "핵심특성": ["마력_충전", "검기_폭발", "마검_오의"]
                },
                "방향3": {
                    "이름": "🌟 이중속성 마검사",
                    "컨셉": "두 가지 속성을 동시에 다루는 속성 마스터",
                    "특징": ["이중 속성", "속성 조합", "다양한 효과"],
                    "키워드": ["이중", "속성", "조합", "마스터"],
                    "핵심특성": ["이중_속성", "마검_일체", "검기_폭발"]
                }
            },
            
            "광전사": {
                "방향1": {
                    "이름": "😤 극한 광기전사",
                    "컨셉": "체력이 낮을수록 미쳐가는 하이리스크 하이리턴 광전사",
                    "특징": ["체력비례 강화", "극한 리스크", "최대 데미지"],
                    "키워드": ["광기", "극한", "리스크", "최대"],
                    "핵심특성": ["광기_상태", "고통_무시", "불사의_의지"]
                },
                "방향2": {
                    "이름": "💀 불사 광전사",
                    "컨셉": "죽음을 두려워하지 않는 불멸의 전사",
                    "특징": ["불사 효과", "부활 시스템", "상태이상 무효"],
                    "키워드": ["불사", "불멸", "부활", "무효"],
                    "핵심특성": ["불사의_의지", "고통_무시", "전투_광증"]
                },
                "방향3": {
                    "이름": "⚡ 연쇄 광전사",
                    "컨셉": "적을 처치할 때마다 더욱 강해지는 킬체인 전사",
                    "특징": ["킬 체인", "연쇄 행동", "무모한 돌진"],
                    "키워드": ["연쇄", "킬체인", "돌진", "무모"],
                    "핵심특성": ["전투_광증", "무모한_돌진", "광기_상태"]
                }
            }
        }
        
    def run_selection(self):
        """직업별 설계 방향성 선택 실행"""
        print("=" * 80)
        print("🎯 직업별 설계 방향성 선택 시스템")
        print("=" * 80)
        print()
        
        jobs = list(self.design_options.keys())
        
        for i, job in enumerate(jobs, 1):
            print(f"\n🔥 {i}. {job} - 설계 방향성 선택")
            print("-" * 50)
            
            options = self.design_options[job]
            
            # 3가지 방향성 표시
            for j, (key, option) in enumerate(options.items(), 1):
                print(f"\n  {j}. {option['이름']}")
                print(f"     💡 컨셉: {option['컨셉']}")
                print(f"     🎯 특징: {', '.join(option['특징'])}")
                print(f"     🏷️ 키워드: {', '.join(option['키워드'])}")
                print(f"     ⭐ 핵심특성: {', '.join(option['핵심특성'])}")
            
            # 사용자 선택 받기
            while True:
                try:
                    choice = input(f"\n  {job} 설계 방향을 선택하세요 (1-3): ").strip()
                    if choice in ['1', '2', '3']:
                        direction_key = f"방향{choice}"
                        selected = options[direction_key]
                        self.selected_designs[job] = {
                            "선택된_방향": selected,
                            "선택_번호": int(choice)
                        }
                        print(f"  ✅ {job}: {selected['이름']} 선택됨!")
                        break
                    else:
                        print("  ❌ 1, 2, 3 중에서 선택해주세요.")
                except:
                    print("  ❌ 올바른 숫자를 입력해주세요.")
            
            print()
        
        # 결과 저장
        self._save_results()
        print("\n" + "=" * 80)
        print("🎊 모든 직업 설계 방향성 선택 완료!")
        print("📁 결과가 'selected_job_designs.json'에 저장되었습니다.")
        print("=" * 80)
    
    def _save_results(self):
        """선택 결과를 JSON 파일로 저장"""
        output = {
            "선택_일시": "2025년 1월",
            "총_직업수": len(self.selected_designs),
            "선택된_설계": {}
        }
        
        for job, data in self.selected_designs.items():
            selected = data["선택된_방향"]
            output["선택된_설계"][job] = {
                "설계_이름": selected["이름"],
                "컨셉": selected["컨셉"],
                "특징": selected["특징"],
                "키워드": selected["키워드"],
                "핵심특성": selected["핵심특성"],
                "선택_번호": data["선택_번호"]
            }
        
        with open("selected_job_designs.json", "w", encoding="utf-8") as f:
            json.dump(output, f, ensure_ascii=False, indent=2)

if __name__ == "__main__":
    selector = JobDesignSelector()
    selector.run_selection()
