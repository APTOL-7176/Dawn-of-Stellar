#!/usr/bin/env python3
"""
AI ë©€í‹°í”Œë ˆì´ ì‹œìŠ¤í…œ - Phase 1: í†µí•© AI ìºë¦­í„° ìƒì„±ê¸°
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ ëª©í‘œ: í´ë˜ì‹ ëª¨ë“œë¥¼ AI ë©€í‹°í”Œë ˆì´ë¡œ ëŒ€ì²´
ğŸ“Š ê¸°ëŠ¥: 
- 27ê°œ ì§ì—… ì§€ì› AI ìºë¦­í„° ìƒì„±  
- ìºë¦­í„°ë³„ ë…ë¦½ ë°ì´í„°ë² ì´ìŠ¤
- ì„±ê²©/ì„±ë³„/ê´€ì‹¬ì‚¬ í”„ë¦¬ì…‹ ì €ì¥
- EXAONE 3.5 ì—°ë™ ì¤€ë¹„
"""

import os
import json
import random
from typing import List, Dict, Optional, Tuple
from ai_character_database import (
    create_ai_character_with_database, 
    preset_manager,
    get_ai_database,
    AICharacterDatabase
)

# ìƒ‰ìƒ ì •ì˜
RESET = '\033[0m'
BOLD = '\033[1m'
RED = '\033[91m'
GREEN = '\033[92m'
YELLOW = '\033[93m'
BLUE = '\033[94m'
MAGENTA = '\033[95m'
CYAN = '\033[96m'
WHITE = '\033[97m'
BRIGHT_CYAN = '\033[96m\033[1m'
BRIGHT_WHITE = '\033[97m\033[1m'
BRIGHT_GREEN = '\033[92m\033[1m'
BRIGHT_YELLOW = '\033[93m\033[1m'

class MultiplayerAICharacterCreator:
    """ë©€í‹°í”Œë ˆì´ìš© AI ìºë¦­í„° ìƒì„±ê¸°"""
    
    def __init__(self):
        # Dawn of Stellarì˜ 27ê°œ ì§ì—… ì •ì˜
        self.all_classes = [
            # ê¸°ë³¸ ì „íˆ¬ ì§ì—…êµ° (8ê°œ)
            "ì „ì‚¬", "ì•„í¬ë©”ì´ì§€", "ê¶ìˆ˜", "ë„ì ", "ì„±ê¸°ì‚¬", "ì•”í‘ê¸°ì‚¬", "ëª½í¬", "ë°”ë“œ",
            
            # ë§ˆë²• ì§ì—…êµ° (10ê°œ)  
            "ë„¤í¬ë¡œë§¨ì„œ", "ìš©ê¸°ì‚¬", "ê²€ì„±", "ì •ë ¹ìˆ ì‚¬", "ì‹œê°„ìˆ ì‚¬", "ì—°ê¸ˆìˆ ì‚¬", 
            "ì°¨ì›ìˆ ì‚¬", "ë§ˆê²€ì‚¬", "ê¸°ê³„ê³µí•™ì", "ë¬´ë‹¹",
            
            # íŠ¹ìˆ˜ ì§ì—…êµ° (9ê°œ)
            "ì•”ì‚´ì", "í•´ì ", "ì‚¬ë¬´ë¼ì´", "ë“œë£¨ì´ë“œ", "ì² í•™ì", "ê²€íˆ¬ì‚¬", 
            "ê¸°ì‚¬", "ì‹ ê´€", "ê´‘ì „ì‚¬"
        ]
        
        # ì„±ë³„ ì˜µì…˜
        self.genders = ["male", "female"]
        
        # í™•ì¥ëœ ì„±ê²© ì‹œìŠ¤í…œ (12ê°€ì§€)
        self.personality_types = [
            "ìš©ê°í•œ_ë¦¬ë”",           # ì •ì˜ê°, ì±…ì„ê°, ë¦¬ë”ì‹­
            "ì‹ ì¤‘í•œ_ì „ëµê°€",         # ë¶„ì„ë ¥, ê³„íšì„±, ì‹ ì¤‘í•¨
            "í™œë°œí•œ_ëª¨í—˜ê°€",         # í˜¸ê¸°ì‹¬, ëª¨í—˜ì‹¬, í™œë°œí•¨
            "ëƒ‰ì •í•œ_ì™„ë²½ì£¼ì˜ì",     # ì™„ë²½ì£¼ì˜, íš¨ìœ¨ì„±, ëƒ‰ì •í•¨
            "ë”°ëœ»í•œ_ì¹˜ìœ ì",         # ê³µê°ëŠ¥ë ¥, ì¹˜ìœ  ë³¸ëŠ¥, ë”°ëœ»í•¨
            "ì¥ë‚œê¸°_ë§ì€_íŠ¸ë¦­ìŠ¤í„°",  # ìœ ë¨¸, ì°½ì˜ì„±, ì¥ë‚œê¸°
            "ê³ ìš”í•œ_í˜„ì",           # ì§€í˜œ, ì¹¨ì°©í•¨, í†µì°°ë ¥
            "ì—´ì •ì ì¸_ì „ì‚¬",         # ì—´ì •, íˆ¬ì§€, ì—ë„ˆì§€
            "ìˆ˜ì¤ì€_í•™ì",           # ë‚´í–¥ì„±, í•™êµ¬ì—´, ì‹ ì¤‘í•¨
            "ì¹´ë¦¬ìŠ¤ë§ˆ_ë„˜ì¹˜ëŠ”_ë¦¬ë”",  # ì¹´ë¦¬ìŠ¤ë§ˆ, ì‚¬êµì„±, ì˜í–¥ë ¥
            "ë…ë¦½ì ì¸_íƒí—˜ê°€",       # ë…ë¦½ì„±, ììœ ë¡œì›€, íƒí—˜ì‹¬
            "ë³´í˜¸ë³¸ëŠ¥_ê°•í•œ_ìˆ˜í˜¸ì"   # ë³´í˜¸ ë³¸ëŠ¥, í—Œì‹ , ì¶©ì„±ì‹¬
        ]
        
        # ì´ë¦„ í’€ (ì„±ë³„ë³„)
        self.name_pools = {
            "male": [
                 "ì•„ë¦¬ìš°ìŠ¤", "ë°œë Œíƒ€ì¸", "ê°€ë¸Œë¦¬ì—˜", "ë¼íŒŒì—˜", "ì¹´ì´ì €", "ë ˆì˜¤ë‚˜ë¥´ë“œ", "ì„¸ë°”ìŠ¤ì°¬", "ì•Œë ‰ì‚°ë”",
            "ë§‰ì‹œë¬´ìŠ¤", "ì•„ë“œë¦¬ì•ˆ", "ë£¨ì¹´ìŠ¤", "ë‹ˆì½œë¼ìŠ¤", "ë„ë¯¸ë‹‰", "ë¹ˆì„¼íŠ¸", "ì—ë°€ë¦¬ì˜¤", "ë§ˆë¥´ì½”",
            "í¬ë¦¬ìŠ¤", "ì˜¤ê±°ìŠ¤íŠ¸", "ë°”ì‹¤ë¦¬ìš°ìŠ¤", "ì´ê·¸ë‹ˆìŠ¤", "í ë¦­ìŠ¤", "ë¼ì´ì–¸", "ì—ë¦­",
            "ë§ˆí‹´", "ì—˜ë¦¬ì•„ìŠ¤", "ë‹¤ë¯¸ì•ˆ", "ìœ¨ë¦¬ì•ˆ", "ì¹´ë¥¼ë¡œìŠ¤", "ë””ì—ê³ ", "íŒŒë¸”ë¡œ", "í”„ë€ì‹œìŠ¤",
            "ë¡œë“œë¦¬ê³ ", "ì•ˆí† ë‹ˆì˜¤", "í˜ë“œë¡œ", "ë¯¸êµ¬ì—˜", "í˜¸ì„¸", "ë£¨ì´ìŠ¤", "í˜ë¥´ë‚œë„", "ì• ë“œì›Œë“œ",
            "ë¼ëª¬", "í˜¸ë¥´í—¤", "ì¹´ë¥¼ë¡œìŠ¤", "ë§ˆëˆ„ì—˜", "í”„ë‘í¬", "ì˜¬ë¦¬ë²„", "í•´ë¦¬", "ì­", "ìœŒë¦¬ì—„",
            "ì œì„ìŠ¤", "ì°°ìŠ¤", "ë¡œë²„íŠ¸", "ë§ˆì´í´", "ë°ì´ë¹„ë“œ", "ë¦¬ì²˜ë“œ", "ì¡°ì…‰", "í† ë¨¸ìŠ¤", "í¬ë¦¬ìŠ¤í† í¼",
            "ë§¤íŠ¸", "ì•¤ì†Œë‹ˆ", "ë§ˆí¬", "ë„ë„ë“œ", "ìŠ¤í‹°ë¸", "í´", "ì•¤ë“œë¥˜", "ì¡°ìŠˆì•„", "ì¼€ë„¤ìŠ¤", "ì¼€ë¹ˆ",
            "ë¸Œë¼ì´ì–¸", "ì¡°ì§€", "ì—ë“œì›Œë“œ", "ë¡œë„ë“œ", "í‹°ëª¨ì‹œ", "ì œì´ìŠ¨", "ì œí”„ë¦¬", "ë¼ì´ì–¸", "ì œì´ì½¥",
            "ê²Œë¦¬", "ë‹ˆì½œë¼ìŠ¤", "ì—ë¦­", "ì¡°ë‚˜ë‹¨", "ìŠ¤í‹°ë¸", "ë˜ë¦¬", "ì €ìŠ¤í‹´", "ìŠ¤ì½§", "ë¸Œëœë“ ", "ë²¤ìë¯¼",
            "ì‚¬ë¬´ì—˜", "ê·¸ë ˆê³ ë¦¬", "ì•Œë ‰ì‚°ë”", "íŒ¨íŠ¸ë¦­", "ì­", "ë°ë‹ˆìŠ¤", "ì œë¦¬", "íƒ€ì¼ëŸ¬", "ì• ëŸ°",
            "í˜¸ì„¸", "í—¨ë¦¬", "ë”ê¸€ëŸ¬ìŠ¤", "ë„¤ì´ì„ ", "í”¼í„°", "ì­ìŠ¨", "ë…¸ì•„", "ì´ë‹¨", "ë£¨ì¹´ìŠ¤", "ë©”ì´ìŠ¨",
            "ë¡œê±´", "ì œì´ì½¥", "ìœŒë¦¬ì—„", "ì—˜ë¦¬ì•¼", "ì›¨ì¸", "ì¹¼ë ™", "ë¼ì´ì–¸", "ë‹ˆì½œë¼ìŠ¤", "ì¡°ë˜",
            "ë¡œë²„íŠ¸", "ê·¸ë ˆì´ìŠ¨", "í—Œí„°", "ì—ì´ë“ ", "ì¹´ë©”ë¡ ", "ì½”ë„ˆ", "ì‚°í‹°ì•„ê³ ", "ì¹¼ë ™", "ë„¤ì´ì„ ",
            "ì´ì‚¬ì´ì•¼", "ì°°ë¦¬", "ì´ë°˜", "ì˜¤ì›¬", "ë£¨í¬", "ë”œëŸ°", "ì­ìŠ¨", "ê°€ë¹ˆ", "ë°ì´ë¹„ë“œ", "ì½œíŠ¼",
            "ì•¤ë“œë¥˜", "ë§¥ìŠ¤", "ë¼ì´ì–¸", "ë¸Œë ˆì´ë“ ", "í† ë¨¸ìŠ¤", "ì¹´í„°", "ë‹¤ë‹ˆì—˜", "ë§ˆì´í´", "ì•„ë‹´",
            "ì—˜ë¼ì´", "ë²¤ìë¯¼", "í•€", "ì½”ë”˜", "íŠ¸ë¦¬ìŠ¤íƒ„", "ë¡œë„Œ", "ë¸”ë ˆì´í¬", "ë¸Œë¡œë””", "ë°í´ë€",
            "ìˆ€", "ë¦¬ì•”", "ë£¨ì¹´", "ì œì„ìŠ¨", "ì¹´ì¼", "ë¸Œëœë“ ", "ì•Œë ‰ìŠ¤", "ìì´ë“ ", "ìë¹„ì—ë¥´","í…Œì˜¤",
            "ë„ë¯¸ë‹‰", "ë°ë¯¸íŠ¸ë¦¬","ì—ì´ìŠ¤", "ë‹ˆí‚¤íƒ€", "ë¸”ë¼ë””ë¯¸ë¥´", "ì•Œë ‰ì„¸ì´", "ì´ë°˜", "ì•ˆí†¤", "ì˜¬ë ‰",
            "ì„¸ë¥´ê²", "ë¹…í„°", "ë¡œë§Œ", "íŒŒë²¨", "ë…¹í‹°ìŠ¤", "ì•„ë¥´í…œ", "ì½˜ìŠ¤íƒ„í‹´", "ë°œë Œí‹´", "ë“œë¯¸íŠ¸ë¦¬","í‹°ë”","í´ë¼ìš°ë“œ","í”„ë¡¬í”„í† ","ê·¸ë¦¼ë‹ˆë¥´","ì‹œìŠ¤","ëœìŠ¬ë¡¯",
            ],
            "female": [
                "ì•„ë¦¬ì•„", "ì…€ë ˆìŠ¤íŠ¸","ìœ ë‚˜", "ì´ì‚¬ë²¨ë¼", "ë°œë ˆë¦¬ì•„", "ì„¸ë¼í”¼ë‚˜", "ì•„ë“œë¦¬ì•„ë‚˜", "ë°€ë¦¬ì•„", "ë¹„ë¹„ì•ˆ", "í´ë¼ë¼","ë¹„ë¼","ìœ ì—˜",
            "ì—ë°€ë¦¬ì•„", "ë£¨ì‹œì•„", "ì†Œí”¼ì•„", "ì˜¬ë¦¬ë¹„ì•„", "ë‚˜íƒˆë¦¬ì•„", "ì¹´ë°€ë¼", "ë ˆì˜¤ë‹ˆ", "ë¯¸ë¦¬ì•”",
            "ë¡œì‚¬", "ì—ìŠ¤í…”ë¼", "ë°”ì´ì˜¬ë ›", "ìƒ¬ë¡¯", "ë² ì•„íŠ¸ë¦¬ì²´", "ì¹´íƒ€ë¦¬ë‚˜", "ë ˆë² ì¹´", "ì—˜ë ˆë‚˜",
            "ë§ˆë¦¬ì•„", "ì•ˆë‚˜", "ë£¨ë‚˜", "ì‹œì—ë¼", "ë‹ˆë‚˜", "ì—ë°”", "ë¦´ë¦¬ì•ˆ", "ë¡œë Œ", "ê·¸ë ˆì´ìŠ¤",
            "ì—ë°€ë¦¬", "í•œë‚˜", "ì— ë§ˆ", "ë§¤ë””ìŠ¨", "ì• ìŠë¦¬", "ì‚¬ë¼", "ë¸Œë¦¬íŠ¸ë‹ˆ", "ì‚¬ë§Œë‹¤", "ì œì‹œì¹´",
            "ì•„ë§Œë‹¤", "ìŠ¤í…ŒíŒŒë‹ˆ", "ë‹ˆì½œ", "ë©œë¦¬ì‚¬", "ë°ë³´ë¼", "ë ˆì´ì²¼", "ìºì„œë¦°", "ì—˜ë¦¬ìë² ìŠ¤", "í•´ë”",
            "í‹°íŒŒë‹ˆ", "ì—ì´ë¯¸", "ì¤„ë¦¬", "ì¡°ì´ìŠ¤", "ë¹…í† ë¦¬ì•„", "ì¼ˆë¦¬", "í¬ë¦¬ìŠ¤í‹°ë‚˜", "ì¡°ì•ˆ", "ì´ë¸”ë¦°",
            "ë¦°ë‹¤", "ë°”ë°”ë¼", "ì—˜ë Œ", "ìºëŸ´", "ì‚°ë“œë¼", "ë„ë‚˜", "ë£¨ìŠ¤", "ìƒ¤ë¡ ", "ë¯¸ì…¸", "ë¡œë¼",
            "ì—ë°€ë¦¬", "ì¹¼ë¼", "ë ˆë² ì¹´", "ìŠ¤í…ŒíŒŒë‹ˆ", "ìºë¡¤ë¼ì¸", "ì—˜ë¦¬", "ì œë‚˜", "ë¸Œë£©", "ì¼€ì´íŠ¸",
            "ì‚¬ë°”ë‚˜", "ì œì‹œì¹´", "í…Œì¼ëŸ¬", "í‚´ë²Œë¦¬", "ë°ì´ì§€", "í•˜ì´ë””", "ê°€ë¸Œë¦¬ì—˜ë¼", "ë‹ˆí‚¤",
            "ë¡œë¦°", "ì…¸ë¦¬", "ë ˆìŠ¬ë¦¬", "ì—ë¦¬ì¹´", "ì¹´ì¼ë¦°", "ì• ë‚˜", "ì½”íŠ¸ë‹ˆ", "ë£¨ë¹„", "ì—ë°”",
            "ë©”ê°„", "ì•Œë ‰ì‹œìŠ¤", "ì†Œí”¼ì•„", "í´ë¡œì—", "ì´ì‚¬ë²¨", "ì—ì´ë°”", "ë°€ë¼", "ì•„ë¦¬ì•„ë‚˜",
            "ë¼ì¼ë¼", "ë¯¸ì•„", "ì—ë§ˆ", "ì•„ë“œë¦¬ì•„ë‚˜", "ì•Œë¦¬", "ë¼ì¼ë¦¬", "ìºë°€ë¼", "í´ë ˆì–´", "ë¹…í† ë¦¬ì•„",
            "ì—˜ë¦¬ì•„ë‚˜", "ë‚˜ì˜¤ë¯¸", "ì—˜ë ˆë‚˜", "ë„¤ì´íƒˆë¦¬", "í—¤ì¼ë¦¬", "ë¸Œë£¨í´ë¦°", "ë¡œë Œ", "ì•¨ë¦¬ìŠ¨",
            "ê°€ë¸Œë¦¬ì—˜ë¼", "ì„¸ë¼", "ììŠ¤ë¯¼", "ë§ˆì•¼", "ì‚¬ë§Œë‹¤", "í˜ë„¬ë¡œí˜", "ì˜¤ë¥¼ë¦¬", "ë°œë ˆë¦¬ì•„",
            "ë°”ì´ì˜¬ë ›", "ìŠ¤ì¹´ë¥¼ë¦¿", "ì• ë‚˜ìŠ¤íƒ€ìƒ¤", "ë² ë¡œë‹ˆì¹´", "í…Œë ˆì‚¬", "ì•¤ì ¤ë¼", "ì¹´ë¥´ë©˜", "ëª°ë¦¬",
            "ì…¸ë¦¬", "ë ˆì´ì²¼", "ë‹ˆì½œ", "ì›¬ë””", "ë¦¬ì‚¬", "í‚´ë²Œë¦¬", "ë„ë‚˜", "ì•„ë‹ˆíƒ€", "ë¦¬ë¹„",
            "ì•Œë¦¬ì‹œì•„", "ì•Œë ‰ì‚°ë“œë¼", "í‚¤ì•„ë¼", "ì¡°ì•„ë‚˜", "ë§ˆë¦¬ì‚¬", "ì¹´ë Œ", "ìŠ¤í…Œì´ì‹œ", "ë‹¤ì´ì• ë‚˜",
            "ë¡œì¦ˆ", "ì´ì†”ë°", "ê¸°ë„¤ë¹„ì–´", "ëª¨ë¥´ê°€ë‚˜", "ì„¸ë¼í”¼ë‚˜", "ì•„ë¥´í…Œë¯¸ìŠ¤", "ì•„í…Œë‚˜", "í—¤ë¼",
            "ì•„í”„ë¡œë””í…Œ", "í—¤ìŠ¤í‹°ì•„", "ë°ë©”í…Œë¥´", "í ë ˆ", "í”„ë ˆì´ì•¼", "ì´ë‘ë‚˜", "ë¸Œë£¬íë°", "ë°œí‚¤ë¦¬",
            "í‚¤ë¥´ì¼€", "ì¹´ì‚°ë“œë¼", "ì•ˆë“œë¡œë©”ë‹¤", "í˜ë„¬ë¡œí˜", "í—¬ë Œ", "í´ë ˆì˜¤íŒŒíŠ¸ë¼", "ì´ì‹œìŠ¤", "ë„¤í˜ë¥´í‹°í‹°",
            "ì„¸ë¼í•Œ", "ìš°ë¦¬ì—˜", "ê°€ë¸Œë¦¬ì—˜ë¼", "ë¯¸ì¹´ì—˜ë¼", "ë¼íŒŒì—˜ë¼", "ì•„ë¦¬ì—˜", "ì ¤ë‹¤", "ì„¸ë ˆë‚˜",
            "íŒ¬ë„ë¼", "í¬ì—ë² ", "ì…€ë ˆë„¤", "í—¤ì¹´í…Œ", "ë‹˜í”„", "ì˜¤ë¡œë¼", "ë£¨ë‚˜", "ìŠ¤í…”ë¼", "ë…¸ë°”",
            "ë² ê°€", "ì•ˆë“œë¡œë©”ë‹¤", "ì¹´ì‹œì˜¤í˜ì•„", "ë¼ì´ë¼", "ì•Œíƒ€ì´ë¥´", "ë²¨ë¼íŠ¸ë¦­ìŠ¤", "ë¦¬ê²”", "ì‹œë¦¬ìš°ìŠ¤",
            "í”„ë¡œí‚¤ì˜¨", "ì•„í¬íˆ¬ë£¨ìŠ¤", "ìŠ¤í”¼ì¹´", "ì•Œë°ë°”ë€", "ì¹´í ë¼", "í´ë£©ìŠ¤", "ë ˆêµ´ë£¨ìŠ¤", "ì•ˆíƒ€ë ˆìŠ¤", "ì˜¤ì¦ˆ","ì½”ë¦°"
            ]
        }
        
        # ì§ì—…ë³„ ì „ë¬¸ ê´€ì‹¬ì‚¬ (AI í•™ìŠµì— í™œìš©)
        self.class_specialties = {
            "ì „ì‚¬": {
                "interests": ["ë°©ì–´_ì „ìˆ ", "ë¬´ê¸°_ê¸°ìˆ ", "íŒŒí‹°_ë³´í˜¸", "ì „ì„ _ìœ ì§€"],
                "combat_style": "ìµœì „ì„ _íƒ±ì»¤",
                "preferred_actions": ["ë°©íŒ¨_ê°•íƒ€", "ë„ë°œ", "ìˆ˜í˜¸_ìì„¸"],
                "personality_fit": ["ìš©ê°í•œ_ë¦¬ë”", "ë³´í˜¸ë³¸ëŠ¥_ê°•í•œ_ìˆ˜í˜¸ì"]
            },
            "ì•„í¬ë©”ì´ì§€": {
                "interests": ["ë§ˆë²•_ì—°êµ¬", "ì›ì†Œ_ì¡°ì‘", "ë§ˆë ¥_íš¨ìœ¨", "ë§ˆë²•_ì´ë¡ "],
                "combat_style": "í›„ë°©_ê´‘ì—­_ë”œëŸ¬",
                "preferred_actions": ["ë§ˆë ¥_íŒŒë™", "ì›ì†Œ_ë§ˆë²•", "ë§ˆë²•_í­ë°œ"],
                "personality_fit": ["ê³ ìš”í•œ_í˜„ì", "ìˆ˜ì¤ì€_í•™ì"]
            },
            "ê¶ìˆ˜": {
                "interests": ["ì •í™•ì„±", "ê±°ë¦¬_ì¡°ì ˆ", "ì¡°ì¤€_ê¸°ìˆ ", "ì€ë°€_ì´ë™"],
                "combat_style": "ì›ê±°ë¦¬_ì •ë°€_ë”œëŸ¬",
                "preferred_actions": ["ì‚¼ì—°ì‚¬", "ê´€í†µì‚¬ê²©", "ì •ë°€_ì¡°ì¤€"],
                "personality_fit": ["ëƒ‰ì •í•œ_ì™„ë²½ì£¼ì˜ì", "ë…ë¦½ì ì¸_íƒí—˜ê°€"]
            },
            "ë„ì ": {
                "interests": ["ì€ì‹ ìˆ ", "í•¨ì •_í•´ì œ", "ë¹ ë¥¸_ê³µê²©", "ì „ë¦¬í’ˆ_íšë“"],
                "combat_style": "ê¸°ìŠµ_ë”œëŸ¬",
                "preferred_actions": ["ë…ì¹¨", "ì•”ì‚´", "ì€ì‹ "],
                "personality_fit": ["ì¥ë‚œê¸°_ë§ì€_íŠ¸ë¦­ìŠ¤í„°", "ë…ë¦½ì ì¸_íƒí—˜ê°€"]
            },
            "ì„±ê¸°ì‚¬": {
                "interests": ["ì‹ ì„±_ë§ˆë²•", "ì¹˜ìœ ìˆ ", "ì •ì˜_ì‹¤í˜„", "ì•…ì˜_ì²™ê²°"],
                "combat_style": "íƒ±ì»¤_íëŸ¬_í•˜ì´ë¸Œë¦¬ë“œ",
                "preferred_actions": ["ì„±ìŠ¤ëŸ¬ìš´_íƒ€ê²©", "ì¹˜ìœ ", "ì •í™”"],
                "personality_fit": ["ìš©ê°í•œ_ë¦¬ë”", "ë”°ëœ»í•œ_ì¹˜ìœ ì"]
            },
            "ì•”í‘ê¸°ì‚¬": {
                "interests": ["ì–´ë‘ _ë§ˆë²•", "ìƒëª…ë ¥_í¡ìˆ˜", "ê³µí¬_ì¡°ì„±", "ê¸ˆê¸°_íƒêµ¬"],
                "combat_style": "í¡í˜ˆ_íƒ±ì»¤",
                "preferred_actions": ["í¡í˜ˆ_ë² ê¸°", "ì–´ë‘ _ë§ˆë²•", "ê³µí¬"],
                "personality_fit": ["ëƒ‰ì •í•œ_ì™„ë²½ì£¼ì˜ì", "ê³ ìš”í•œ_í˜„ì"]
            },
            "ëª½í¬": {
                "interests": ["ë‚´ê³µ_ìˆ˜ë ¨", "ì‹ ì²´_ë‹¨ë ¨", "ì •ì‹ _ì§‘ì¤‘", "ê¸°_ì¡°ì ˆ"],
                "combat_style": "ê·¼ì ‘_ì½¤ë³´_ë”œëŸ¬",
                "preferred_actions": ["ì—°í™˜_íƒ€ê²©", "ê¸°_ì§‘ì¤‘", "ë‚´ê³µ_ìˆ˜ë ¨"],
                "personality_fit": ["ê³ ìš”í•œ_í˜„ì", "ì‹ ì¤‘í•œ_ì „ëµê°€"]
            },
            "ë°”ë“œ": {
                "interests": ["ìŒì•…_ì´ë¡ ", "ì‚¬ê¸°_ì§„ì‘", "ì‚¬êµìˆ ", "ì •ë³´_ìˆ˜ì§‘"],
                "combat_style": "ë²„í”„_ì„œí¬í„°",
                "preferred_actions": ["ìŒíŒŒ_ê³µê²©", "ì‚¬ê¸°_ì§„ì‘", "ì¹˜ìœ _ë…¸ë˜"],
                "personality_fit": ["ì¹´ë¦¬ìŠ¤ë§ˆ_ë„˜ì¹˜ëŠ”_ë¦¬ë”", "í™œë°œí•œ_ëª¨í—˜ê°€"]
            },
            # ë‚˜ë¨¸ì§€ ì§ì—…ë“¤ë„ ë™ì¼í•œ íŒ¨í„´ìœ¼ë¡œ ì •ì˜...
            "ë„¤í¬ë¡œë§¨ì„œ": {
                "interests": ["ì£½ìŒ_ë§ˆë²•", "ì–¸ë°ë“œ_ì¡°ì¢…", "ì˜í˜¼_ì—°êµ¬", "ê¸ˆê¸°_ì§€ì‹"],
                "combat_style": "ì†Œí™˜_ë§ˆë²•ì‚¬",
                "preferred_actions": ["ìƒëª…ë ¥_í¡ìˆ˜", "ì–¸ë°ë“œ_ì†Œí™˜", "ì£½ìŒ_ë§ˆë²•"],
                "personality_fit": ["ê³ ìš”í•œ_í˜„ì", "ìˆ˜ì¤ì€_í•™ì"]
            },
            "ê²€ì„±": {
                "interests": ["ê²€ìˆ _ì™„ì„±", "ê²€ê¸°_ì¡°ì‘", "ë¬´ë„_ì² í•™", "ìˆ˜ë ¨_ë°©ë²•"],
                "combat_style": "ê²€ê¸°_ë”œëŸ¬",
                "preferred_actions": ["ê²€ê¸°_ë² ê¸°", "ì¼ì„¬", "ê²€ìˆ _ìˆ˜ë ¨"],
                "personality_fit": ["ì‹ ì¤‘í•œ_ì „ëµê°€", "ë…ë¦½ì ì¸_íƒí—˜ê°€"]
            }
            # ... ë” ë§ì€ ì§ì—… ì¶”ê°€ ê°€ëŠ¥
        }
        
        # ì„±ê²©ë³„ ë§íˆ¬ ë§¤í•‘
        self.speech_styles = {
            "ìš©ê°í•œ_ë¦¬ë”": "ê²©ì‹ìˆëŠ”_ë§íˆ¬",
            "ì‹ ì¤‘í•œ_ì „ëµê°€": "ì •ì¤‘í•œ_ë§íˆ¬", 
            "í™œë°œí•œ_ëª¨í—˜ê°€": "ì¹œê·¼í•œ_ë§íˆ¬",
            "ëƒ‰ì •í•œ_ì™„ë²½ì£¼ì˜ì": "ì°¨ê°€ìš´_ë§íˆ¬",
            "ë”°ëœ»í•œ_ì¹˜ìœ ì": "ë¶€ë“œëŸ¬ìš´_ë§íˆ¬",
            "ì¥ë‚œê¸°_ë§ì€_íŠ¸ë¦­ìŠ¤í„°": "ìœ ì¾Œí•œ_ë§íˆ¬",
            "ê³ ìš”í•œ_í˜„ì": "ì§€í˜œë¡œìš´_ë§íˆ¬",
            "ì—´ì •ì ì¸_ì „ì‚¬": "ì—´ì •ì ì¸_ë§íˆ¬",
            "ìˆ˜ì¤ì€_í•™ì": "ì¡°ì‹¬ìŠ¤ëŸ¬ìš´_ë§íˆ¬",
            "ì¹´ë¦¬ìŠ¤ë§ˆ_ë„˜ì¹˜ëŠ”_ë¦¬ë”": "ë‹¹ë‹¹í•œ_ë§íˆ¬",
            "ë…ë¦½ì ì¸_íƒí—˜ê°€": "ììœ ë¡œìš´_ë§íˆ¬",
            "ë³´í˜¸ë³¸ëŠ¥_ê°•í•œ_ìˆ˜í˜¸ì": "ë”°ëœ»í•˜ê³ _ê°•í•œ_ë§íˆ¬"
        }
    
    def create_ai_character_for_multiplayer(self, name: str = None, class_name: str = None, 
                                          gender: str = None, personality_type: str = None) -> Dict:
        """ë©€í‹°í”Œë ˆì´ìš© AI ìºë¦­í„° ìƒì„±"""
        
        # ëœë¤ ì„ íƒ ì²˜ë¦¬
        if not name:
            selected_gender = gender or random.choice(self.genders)
            name = random.choice(self.name_pools[selected_gender])
        
        if not class_name:
            class_name = random.choice(self.all_classes)
        
        if not gender:
            gender = random.choice(self.genders)
        
        if not personality_type:
            # ì§ì—…ì— ë§ëŠ” ì„±ê²© ìš°ì„  ì„ íƒ
            if class_name in self.class_specialties:
                suitable_personalities = self.class_specialties[class_name]["personality_fit"]
                personality_type = random.choice(suitable_personalities + self.personality_types)
            else:
                personality_type = random.choice(self.personality_types)
        
        print(f"\n{CYAN}ğŸ¤– AI ë©€í‹°í”Œë ˆì´ ìºë¦­í„° ìƒì„± ì¤‘...{RESET}")
        print(f"{WHITE}â”œâ”€ ì´ë¦„: {name}{RESET}")
        print(f"{WHITE}â”œâ”€ ì§ì—…: {class_name}{RESET}")
        print(f"{WHITE}â”œâ”€ ì„±ë³„: {gender}{RESET}")
        print(f"{WHITE}â””â”€ ì„±ê²©: {personality_type}{RESET}")
        
        # AI ìºë¦­í„°ì™€ ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
        character_data, database = create_ai_character_with_database(
            name, class_name, gender, personality_type
        )
        
        # ì§ì—…ë³„ ì „ë¬¸ì„± ì¶”ê°€
        if class_name in self.class_specialties:
            specialty = self.class_specialties[class_name]
            
            # ê´€ì‹¬ì‚¬ í™•ì¥
            character_data['ai_profile']['core_personality']['interests'].extend(
                specialty['interests']
            )
            
            # ì „ë¬¸ ì§€ì‹ ì—…ë°ì´íŠ¸
            character_data['ai_profile']['professional_knowledge'].update({
                'combat_style': specialty['combat_style'],
                'preferred_actions': specialty['preferred_actions'],
                'specialty_knowledge': specialty['interests']
            })
        
        # ë§íˆ¬ ìŠ¤íƒ€ì¼ ì„¤ì •
        character_data['basic_info']['speech_style'] = self.speech_styles.get(
            personality_type, "ë³´í†µ_ë§íˆ¬"
        )
        
        # ë©€í‹°í”Œë ˆì´ ì „ìš© ì„¤ì • ì¶”ê°€
        character_data['multiplayer_settings'] = {
            'ai_controlled': True,
            'cooperation_level': 0.8,  # í˜‘ë ¥ì„± (0.0 ~ 1.0)
            'independence_level': 0.6,  # ë…ë¦½ì„± (0.0 ~ 1.0)
            'communication_frequency': 0.7,  # ëŒ€í™” ë¹ˆë„ (0.0 ~ 1.0)
            'decision_making_style': self._get_decision_style(personality_type)
        }
        
        # í”„ë¦¬ì…‹ ì¬ì €ì¥ (ì™„ì „í•œ AI í”„ë¡œí•„ í¬í•¨)
        preset_manager.save_character_preset(character_data)
        
        return {
            'character_data': character_data,
            'database': database,
            'ai_ready': True
        }
    
    def _get_decision_style(self, personality_type: str) -> str:
        """ì„±ê²©ì— ë”°ë¥¸ ì˜ì‚¬ê²°ì • ìŠ¤íƒ€ì¼ ë°˜í™˜"""
        decision_styles = {
            "ìš©ê°í•œ_ë¦¬ë”": "ì ê·¹ì _ê²°ë‹¨",
            "ì‹ ì¤‘í•œ_ì „ëµê°€": "ë¶„ì„ì _ê³„íš",
            "í™œë°œí•œ_ëª¨í—˜ê°€": "ì§ê°ì _í–‰ë™",
            "ëƒ‰ì •í•œ_ì™„ë²½ì£¼ì˜ì": "ë…¼ë¦¬ì _ìµœì í™”",
            "ë”°ëœ»í•œ_ì¹˜ìœ ì": "ê³µê°ì _ë°°ë ¤",
            "ì¥ë‚œê¸°_ë§ì€_íŠ¸ë¦­ìŠ¤í„°": "ì°½ì˜ì _ì‹¤í—˜",
            "ê³ ìš”í•œ_í˜„ì": "í†µì°°ì _íŒë‹¨",
            "ì—´ì •ì ì¸_ì „ì‚¬": "ê°ì •ì _ëŒì§„",
            "ìˆ˜ì¤ì€_í•™ì": "ì‹ ì¤‘í•œ_ê´€ì°°",
            "ì¹´ë¦¬ìŠ¤ë§ˆ_ë„˜ì¹˜ëŠ”_ë¦¬ë”": "ì˜í–¥ë ¥_í™œìš©",
            "ë…ë¦½ì ì¸_íƒí—˜ê°€": "ììœ¨ì _íŒë‹¨",
            "ë³´í˜¸ë³¸ëŠ¥_ê°•í•œ_ìˆ˜í˜¸ì": "ë°©ì–´ì _ìš°ì„ "
        }
        return decision_styles.get(personality_type, "ê· í˜•ì _íŒë‹¨")
    
    def create_multiplayer_party(self, party_size: int = 4, exclude_jobs: List[str] = None) -> List[Dict]:
        """ë©€í‹°í”Œë ˆì´ìš© AI íŒŒí‹° ìƒì„± (ì—­í•  ê· í˜• ê³ ë ¤ + ì§ì—… ì¤‘ë³µ ë°©ì§€)"""
        print(f"\n{BRIGHT_CYAN}ğŸ® AI ë©€í‹°í”Œë ˆì´ íŒŒí‹° ìƒì„± ({party_size}ëª…){RESET}")
        print(f"{WHITE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”{RESET}")
        
        if exclude_jobs is None:
            exclude_jobs = []
        
        # ì—­í• ë³„ ì§ì—… ë¶„ë¥˜ (ë°¸ëŸ°ìŠ¤ ì¡íŒ íŒŒí‹° êµ¬ì„±)
        role_distribution = {
            "íƒ±ì»¤": ["ì „ì‚¬", "ì„±ê¸°ì‚¬", "ê¸°ì‚¬", "ì•”í‘ê¸°ì‚¬", "ê²€íˆ¬ì‚¬"],
            "ë”œëŸ¬": ["ê¶ìˆ˜", "ë„ì ", "ì•”ì‚´ì", "ê²€ì„±", "ì‚¬ë¬´ë¼ì´", "ê´‘ì „ì‚¬"],
            "ë§ˆë²•ì‚¬": ["ì•„í¬ë©”ì´ì§€", "ë„¤í¬ë¡œë§¨ì„œ", "ì •ë ¹ìˆ ì‚¬", "ì‹œê°„ìˆ ì‚¬", "ì—°ê¸ˆìˆ ì‚¬", "ì°¨ì›ìˆ ì‚¬"],
            "ì„œí¬í„°": ["ë°”ë“œ", "ì‹ ê´€", "ë“œë£¨ì´ë“œ", "ë¬´ë‹¹", "ì² í•™ì"],
            "í•˜ì´ë¸Œë¦¬ë“œ": ["ëª½í¬", "ìš©ê¸°ì‚¬", "ë§ˆê²€ì‚¬", "ê¸°ê³„ê³µí•™ì", "í•´ì "]
        }
        
        # ì œì™¸í•  ì§ì—… í•„í„°ë§
        for role, jobs in role_distribution.items():
            role_distribution[role] = [job for job in jobs if job not in exclude_jobs]
        
        party_members = []
        used_names = set()
        used_jobs = set(exclude_jobs)  # ì´ë¯¸ ì œì™¸í•  ì§ì—…ë“¤ ì¶”ê°€
        
        # íŒŒí‹° êµ¬ì„± ì „ëµ (4ëª… ê¸°ì¤€)
        if party_size >= 4:
            required_roles = ["íƒ±ì»¤", "ë”œëŸ¬", "ë§ˆë²•ì‚¬", "ì„œí¬í„°"]
        else:
            required_roles = ["íƒ±ì»¤", "ë”œëŸ¬", "ì„œí¬í„°"][:party_size-1] + ["í•˜ì´ë¸Œë¦¬ë“œ"]
        
        # í•„ìˆ˜ ì—­í•  ìºë¦­í„° ìƒì„±
        for i, role in enumerate(required_roles):
            if i >= party_size:
                break
            
            # ì‚¬ìš© ê°€ëŠ¥í•œ ì§ì—…ë“¤ ì¤‘ì—ì„œ ì„ íƒ (ì¤‘ë³µ ë°©ì§€)
            available_jobs = [job for job in role_distribution[role] if job not in used_jobs]
            if not available_jobs:
                # í•´ë‹¹ ì—­í• ì— ì‚¬ìš© ê°€ëŠ¥í•œ ì§ì—…ì´ ì—†ìœ¼ë©´ ë‹¤ë¥¸ ì—­í• ì—ì„œ ì„ íƒ
                all_available = []
                for other_role, jobs in role_distribution.items():
                    all_available.extend([job for job in jobs if job not in used_jobs])
                if all_available:
                    class_name = random.choice(all_available)
                else:
                    continue  # ì •ë§ ì„ íƒí•  ì§ì—…ì´ ì—†ìœ¼ë©´ ìŠ¤í‚µ
            else:
                class_name = random.choice(available_jobs)
            
            used_jobs.add(class_name)  # ì‚¬ìš©ëœ ì§ì—… ì¶”ê°€
            gender = random.choice(self.genders)
            
            # ì§ì—…ì— ë§ëŠ” ì„±ê²© ì„ íƒ (ê°œì„ ëœ ë§¤ì¹­)
            personality_type = self._get_suitable_personality(class_name)
            
            # ì§ì—…ê³¼ ì„±ê²©ì— ë§ëŠ” ì´ë¦„ê³¼ ì„±ë³„ ì„ íƒ
            name, gender = self._get_suitable_name(class_name, personality_type)
            
            # ì´ë¦„ ì¤‘ë³µ ë°©ì§€
            attempts = 0
            while name in used_names and attempts < 10:
                name, gender = self._get_suitable_name(class_name, personality_type)
                attempts += 1
            
            # ì—¬ì „íˆ ì¤‘ë³µì´ë©´ ìˆ«ì ì¶”ê°€
            if name in used_names:
                name = f"{name}_{i+1}"
            
            used_names.add(name)
            
            character = self.create_ai_character_for_multiplayer(
                name, class_name, gender, personality_type
            )
            party_members.append(character)
            
            print(f"  {GREEN}âœ… {role}: {name} ({class_name}, {personality_type}){RESET}")
        
        # ë‚˜ë¨¸ì§€ ìŠ¬ë¡¯ ì±„ìš°ê¸°
        for i in range(len(required_roles), party_size):
            role = random.choice(list(role_distribution.keys()))
            class_name = random.choice(role_distribution[role])
            gender = random.choice(self.genders)
            personality_type = random.choice(self.personality_types)
            
            # ì´ë¦„ ì¤‘ë³µ ë°©ì§€
            attempts = 0
            while attempts < 30:
                name = random.choice(self.name_pools[gender])
                if name not in used_names:
                    used_names.add(name)
                    break
                attempts += 1
            else:
                name = f"{random.choice(self.name_pools[gender])}_{i+1}"
            
            character = self.create_ai_character_for_multiplayer(
                name, class_name, gender, personality_type
            )
            party_members.append(character)
            
            print(f"  {GREEN}âœ… {role}: {name} ({class_name}, {personality_type}){RESET}")
        
        # íŒŒí‹° ì‹œë„ˆì§€ ë¶„ì„
        self._analyze_party_synergy(party_members)
        
        print(f"\n{BRIGHT_GREEN}ğŸ‰ AI ë©€í‹°í”Œë ˆì´ íŒŒí‹° ì™„ì„±! ({len(party_members)}ëª…){RESET}")
        return party_members
    
    def _analyze_party_synergy(self, party_members: List[Dict]):
        """íŒŒí‹° ì‹œë„ˆì§€ ë¶„ì„"""
        print(f"\n{YELLOW}ğŸ“Š íŒŒí‹° ì‹œë„ˆì§€ ë¶„ì„:{RESET}")
        
        classes = [member['character_data']['basic_info']['class'] for member in party_members]
        personalities = [member['character_data']['basic_info']['personality_type'] for member in party_members]
        
        # ì§ì—… ì‹œë„ˆì§€ ì²´í¬
        synergies = []
        if "ì„±ê¸°ì‚¬" in classes and "ì‹ ê´€" in classes:
            synergies.append("ì‹ ì„± ì‹œë„ˆì§€ (ì„±ê¸°ì‚¬ + ì‹ ê´€)")
        if "ì•”í‘ê¸°ì‚¬" in classes and "ë„¤í¬ë¡œë§¨ì„œ" in classes:
            synergies.append("ì–´ë‘  ì‹œë„ˆì§€ (ì•”í‘ê¸°ì‚¬ + ë„¤í¬ë¡œë§¨ì„œ)")
        if "ì•„í¬ë©”ì´ì§€" in classes and "ì •ë ¹ìˆ ì‚¬" in classes:
            synergies.append("ì›ì†Œ ë§ˆìŠ¤í„° (ì•„í¬ë©”ì´ì§€ + ì •ë ¹ìˆ ì‚¬)")
        
        # ì„±ê²© ì¡°í™” ë¶„ì„
        leadership_count = sum(1 for p in personalities if "ë¦¬ë”" in p)
        healer_count = sum(1 for p in personalities if "ì¹˜ìœ ì" in p or "ìˆ˜í˜¸ì" in p)
        
        print(f"  {WHITE}â”œâ”€ ì§ì—… ì‹œë„ˆì§€: {len(synergies)}ê°œ{RESET}")
        for synergy in synergies:
            print(f"  {WHITE}â”‚  â€¢ {synergy}{RESET}")
        
        print(f"  {WHITE}â”œâ”€ ë¦¬ë”ì‹­: {leadership_count}ëª…{RESET}")
        print(f"  {WHITE}â”œâ”€ ì¹˜ìœ /ë³´í˜¸: {healer_count}ëª…{RESET}")
        
        # ì „ì²´ í‰ê°€
        if len(synergies) >= 2:
            rating = "ğŸŒŸ Excellent"
        elif len(synergies) >= 1:
            rating = "â­ Good"
        else:
            rating = "âœ¨ Standard"
        
        print(f"  {WHITE}â””â”€ íŒŒí‹° ë“±ê¸‰: {rating}{RESET}")
    
    def _get_suitable_personality(self, class_name: str) -> str:
        """ì§ì—…ì— ë§ëŠ” ì„±ê²© ìœ í˜• ë°˜í™˜"""
        # ì§ì—…ë³„ ì–´ìš¸ë¦¬ëŠ” ì„±ê²© ë§¤í•‘
        class_personality_map = {
            # ì „íˆ¬ ì§ì—…êµ° - ê°•ì¸í•˜ê³  ìš©ê°í•œ ì„±ê²©
            "ì „ì‚¬": ["ìš©ê°í•œ_ì „ì‚¬", "ì¶©ì„±ìŠ¤ëŸ°_ê¸°ì‚¬", "ë‹¨í˜¸í•œ_ì§€íœ˜ê´€", "ìˆ˜í˜¸í•˜ëŠ”_ë°©íŒ¨", "ë¶ˆêµ´ì˜_íˆ¬ì‚¬"],
            "ì„±ê¸°ì‚¬": ["ì‹ ì‹¤í•œ_ì„±ì", "ì •ì˜ë¡œìš´_ê¸°ì‚¬", "ìˆ˜í˜¸í•˜ëŠ”_ë°©íŒ¨", "ìë¹„ë¡œìš´_ì¹˜ìœ ì", "ë¹›ì˜_ìˆ˜í˜¸ì"],
            "ì•”í‘ê¸°ì‚¬": ["ëƒ‰ì •í•œ_ì „ìˆ ê°€", "ê³ ë…í•œ_ê¸°ì‚¬", "ì–´ë‘ ì˜_ìˆ˜í˜¸ì", "ë³µìˆ˜ì˜_ê²€", "ì¹¨ë¬µí•˜ëŠ”_ì „ì‚¬"],
            "ëª½í¬": ["í‰ì˜¨í•œ_ìˆ˜ë„ìŠ¹", "ë‹¨ë ¨í•˜ëŠ”_êµ¬ë„ì", "ê¹¨ë‹¬ì€_í˜„ì", "ìˆ˜í–‰í•˜ëŠ”_ë¬´ë„ê°€", "ì¡°í™”ë¡œìš´_ì˜í˜¼"],
            "ì•„í¬ë©”ì´ì§€": ["ì§€í˜œë¡œìš´_í˜„ì", "íƒêµ¬í•˜ëŠ”_í•™ì", "ì‹ ë¹„ë¡œìš´_ìˆ ì‚¬", "ë§ˆë²•ì˜_ì§€ë°°ì", "ì›ì†Œì˜_ì£¼ì¸"],
            "ê¶ìˆ˜": ["ëƒ‰ì •í•œ_ì €ê²©ìˆ˜", "ììœ ë¡œìš´_ìœ ë‘ì", "ì •í™•í•œ_ëª…ì‚¬ìˆ˜", "ìˆ²ì˜_ìˆ˜í˜¸ì", "ë°”ëŒì˜_ì‚¬ì"],
            "ë„ì ": ["êµí™œí•œ_ë„ë‘‘", "ê·¸ë¦¼ì_ë¬´ìš©ìˆ˜", "ì¹¨ë¬µí•˜ëŠ”_ì•”ì‚´ì", "ë¯¼ì²©í•œ_íƒí—˜ê°€", "ì€ë°€í•œ_ì •íƒê¾¼"],
            "ë°”ë“œ": ["ë‚­ë§Œì _ìŒìœ ì‹œì¸", "ë§¤í˜¹ì _ì˜ˆìˆ ê°€", "ìœ ì¾Œí•œ_ì—”í„°í…Œì´ë„ˆ", "ê°ì„±ì _ì‹œì¸", "ì¹´ë¦¬ìŠ¤ë§ˆ_ë¦¬ë”"],
            
            # ë§ˆë²• ì§ì—…êµ° - ì§€ì ì´ê³  ì‹ ë¹„ë¡œìš´ ì„±ê²©
            "ë„¤í¬ë¡œë§¨ì„œ": ["ì–´ë‘ ì˜_í•™ì", "ì£½ìŒì˜_í˜„ì", "ê³ ë…í•œ_ì—°êµ¬ì", "ê¸ˆê¸°ì˜_íƒêµ¬ì", "ì˜í˜¼ì˜_ì§€ë°°ì"],
            "ìš©ê¸°ì‚¬": ["ìš©ë§¹í•œ_ê¸°ì‚¬", "ë¶ˆì˜_ì „ì‚¬", "ë“œë˜ê³¤_ë™ë°˜ì", "í™”ì—¼ì˜_ìˆ˜í˜¸ì", "ê³ ê·€í•œ_ì „ì‚¬"],
            "ê²€ì„±": ["ì´ˆì›”í•œ_ê²€ì‚¬", "ê²€ì˜_êµ¬ë„ì", "ë¬´ì˜ˆì˜_ë‹¬ì¸", "ê³ ë…í•œ_ê²€í˜¸", "ì™„ë²½í•œ_ê²€ì‚¬"],
            "ì •ë ¹ìˆ ì‚¬": ["ìì—°ì˜_ì¹œêµ¬", "ì›ì†Œì˜_í˜„ì", "ì¡°í™”ë¡œìš´_ìˆ ì‚¬", "ì‹ ë¹„ë¡œìš´_ë“œë£¨ì´ë“œ", "ì •ë ¹ì˜_ëŒ€í™”ì"],
            "ì‹œê°„ìˆ ì‚¬": ["ì‹ ë¹„ë¡œìš´_ì˜ˆì–¸ì", "ì‹œê°„ì˜_ìˆ˜í˜¸ì", "ìš´ëª…ì˜_ì¡°ìœ¨ì", "ì°¨ì›ì˜_ì—¬í–‰ì", "ë¯¸ë˜ì˜_ê´€ì°°ì"],
            "ì—°ê¸ˆìˆ ì‚¬": ["íƒêµ¬í•˜ëŠ”_í•™ì", "ì‹¤í—˜ì _ë°œëª…ê°€", "ì§€ì ì¸_ì—°êµ¬ì", "ì°½ì¡°ì _ê³¼í•™ì", "ë³€í™”ì˜_ëŒ€ê°€"],
            "ì°¨ì›ìˆ ì‚¬": ["ì´ˆì›”ì _í˜„ì", "ì°¨ì›ì˜_íƒí—˜ê°€", "ê³µê°„ì˜_ì§€ë°°ì", "ë¬´í•œì˜_íƒêµ¬ì", "í˜„ì‹¤ì˜_ì¡°ìœ¨ì"],
            "ë§ˆê²€ì‚¬": ["ê· í˜•ì˜_ì „ì‚¬", "ë§ˆë²•_ê²€ì‚¬", "ì´ì¤‘ì˜_ìˆ˜í–‰ì", "ì¡°í™”ë¡œìš´_ì „ì‚¬", "ì™„ì„±ëœ_ê²€ì‚¬"],
            "ê¸°ê³„ê³µí•™ì": ["ì°½ì˜ì _ë°œëª…ê°€", "ê¸°ê³„ì˜_ëŒ€ê°€", "ë…¼ë¦¬ì _ì—”ì§€ë‹ˆì–´", "í˜ì‹ ì _ì°½ì¡°ì", "ì™„ë²½ì£¼ì˜_ê¸°ìˆ ì"],
            "ë¬´ë‹¹": ["ì˜ì ì¸_ì¹˜ìœ ì", "ì‹ ë¹„ë¡œìš´_ë¬´ë‹¹", "ìì—°ì˜_ëŒ€ë³€ì", "ì˜í˜¼ì˜_ì•ˆë‚´ì", "ì¡°ìƒì˜_ëŒ€ë¦¬ì¸"],
            
            # íŠ¹ìˆ˜ ì§ì—…êµ° - ë…íŠ¹í•˜ê³  íŠ¹ë³„í•œ ì„±ê²©
            "ì•”ì‚´ì": ["ì¹¨ë¬µí•˜ëŠ”_ê·¸ë¦¼ì", "ëƒ‰í˜¹í•œ_ì•”ì‚´ì", "ì™„ë²½í•œ_í‚¬ëŸ¬", "ê·¸ë¦¼ì_ë¬´ìš©ìˆ˜", "ì£½ìŒì˜_ì‚¬ì"],
            "í•´ì ": ["ììœ ë¡œìš´_ëª¨í—˜ê°€", "ë°”ë‹¤ì˜_ëŠ‘ëŒ€", "ëª¨í—˜ì _ì„ ì¥", "ìš©ê°í•œ_í•´ì ", "ë°”ë‹¤ì˜_ì§€ë°°ì"],
            "ì‚¬ë¬´ë¼ì´": ["ëª…ì˜ˆë¡œìš´_ë¬´ì‚¬", "ì™„ë²½í•œ_ê²€ì‚¬", "ì¶©ì˜ì˜_ì „ì‚¬", "ê³ ê·€í•œ_ì‚¬ë¬´ë¼ì´", "ë¬´ë„ì˜_ë‹¬ì¸"],
            "ë“œë£¨ì´ë“œ": ["ìì—°ì˜_ìˆ˜í˜¸ì", "ì•¼ìƒì˜_ì¹œêµ¬", "ëŒ€ì§€ì˜_í˜„ì", "ìƒëª…ì˜_ë³´í˜¸ì", "ìì—°ì˜_ëŒ€ë³€ì"],
            "ì² í•™ì": ["ê¹Šì´_ì‚¬ìƒ‰í•˜ëŠ”_í˜„ì", "ì§€í˜œë¡œìš´_ì² í•™ì", "ì§„ë¦¬ì˜_íƒêµ¬ì", "ì‚¬ìƒ‰ì _í•™ì", "ê¹¨ë‹¬ì€_í˜„ì"],
            "ê²€íˆ¬ì‚¬": ["íˆ¬ê¸°ì˜_ì „ì‚¬", "ë¶ˆêµ´ì˜_íˆ¬ì‚¬", "ê²½ê¸°ì¥_ì˜ì›…", "ì „íˆ¬ì˜_ì˜ˆìˆ ê°€", "ìŠ¹ë¦¬ì˜_ì¶”êµ¬ì"],
            "ê¸°ì‚¬": ["ê³ ê·€í•œ_ê¸°ì‚¬", "ëª…ì˜ˆë¡œìš´_ì „ì‚¬", "ì¶©ì„±ìŠ¤ëŸ°_ê¸°ì‚¬", "ì •ì˜ì˜_ìˆ˜í˜¸ì", "ì™„ë²½í•œ_ê¸°ì‚¬"],
            "ì‹ ê´€": ["ì‹ ì‹¤í•œ_ì„±ì§ì", "ìë¹„ë¡œìš´_ì¹˜ìœ ì", "ë¹›ì˜_ì‚¬ë„", "í¬ë§ì˜_ì „ë ¹", "í‰í™”ì˜_ìˆ˜í˜¸ì"],
            "ê´‘ì „ì‚¬": ["ê´‘ê¸°ì˜_ì „ì‚¬", "íŒŒê´´ì _íˆ¬ì‚¬", "ë¶„ë…¸ì˜_í™”ì‹ ", "ì „íˆ¬ê´‘_ë°”ì´í‚¹", "í­í’ì˜_ì „ì‚¬"]
        }
        
        # ì§ì—…ì— ë§ëŠ” ì„±ê²© ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
        suitable_personalities = class_personality_map.get(class_name, ["ê· í˜•ì¡íŒ_ëª¨í—˜ê°€"])
        return random.choice(suitable_personalities)
    
    def _get_suitable_name(self, class_name: str, personality_type: str) -> tuple[str, str]:
        """ì§ì—…ê³¼ ì„±ê²©ì— ë§ëŠ” ì´ë¦„ê³¼ ì„±ë³„ ìƒì„± (ì„±ë³„ë³„ ì´ë¦„ í’€ ì‚¬ìš©)"""
        
        # ì„±ë³„ ëœë¤ ì„ íƒ í›„ í•´ë‹¹ ì„±ë³„ ì´ë¦„ í’€ì—ì„œ ì„ íƒ
        gender = random.choice(["male", "female"])
        name_pool = self.name_pools[gender]
        base_name = random.choice(name_pool)
        
        # ì„±ê²©ì— ë”°ë¥¸ ìˆ˜ì‹ì–´ ì¶”ê°€ (ì„ íƒì )
        if "ë¦¬ë”" in personality_type:
            modifiers = ["ëŒ€ì¥", "ìº¡í‹´", "ë¦¬ë”"]
        elif "í˜„ì" in personality_type or "í•™ì" in personality_type:
            modifiers = ["í˜„ì", "ë°•ì‚¬", "ë§ˆìŠ¤í„°"]
        elif "ì „ì‚¬" in personality_type or "ê¸°ì‚¬" in personality_type:
            modifiers = ["ê¸°ì‚¬", "ì „ì‚¬", "ê°€ë””ì–¸"]
        else:
            modifiers = []
        
        # 20% í™•ë¥ ë¡œ ìˆ˜ì‹ì–´ ì¶”ê°€
        if modifiers and random.random() < 0.2:
            final_name = f"{random.choice(modifiers)} {base_name}"
        else:
            final_name = base_name
            
        return final_name, gender

    def display_ai_character_profile(self, character: Dict):
        """AI ìºë¦­í„° ìƒì„¸ í”„ë¡œí•„ í‘œì‹œ"""
        data = character['character_data']
        database = character['database']
        
        print(f"\n{BRIGHT_CYAN}ğŸ‘¤ AI ìºë¦­í„° í”„ë¡œí•„{RESET}")
        print(f"{WHITE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”{RESET}")
        
        basic = data['basic_info']
        ai_profile = data['ai_profile']
        multiplayer = data.get('multiplayer_settings', {})
        
        print(f"{BRIGHT_WHITE}ğŸ­ ê¸°ë³¸ ì •ë³´:{RESET}")
        print(f"   ì´ë¦„: {basic['name']}")
        print(f"   ì§ì—…: {basic['class']}")
        print(f"   ì„±ë³„: {basic['gender']}")
        print(f"   ë‚˜ì´: {basic['age']}")
        print(f"   ì„±ê²©: {basic['personality_type']}")
        print(f"   ë§íˆ¬: {basic['speech_style']}")
        
        print(f"\n{BRIGHT_WHITE}ğŸ§  AI ì„±ê²©:{RESET}")
        core = ai_profile['core_personality']
        print(f"   íŠ¹ì„±: {', '.join(core['traits'])}")
        print(f"   ê´€ì‹¬ì‚¬: {', '.join(core['interests'][:4])}...")
        print(f"   ë‘ë ¤ì›€: {', '.join(core['fears'])}")
        print(f"   ë™ê¸°: {', '.join(core['motivations'])}")
        
        print(f"\n{BRIGHT_WHITE}âš”ï¸ ì „ë¬¸ì„±:{RESET}")
        prof = ai_profile['professional_knowledge']
        print(f"   ì „íˆ¬ ìŠ¤íƒ€ì¼: {prof.get('combat_style', 'ì¼ë°˜ì ')}")
        print(f"   ì„ í˜¸ í–‰ë™: {', '.join(prof.get('preferred_actions', [])[:3])}")
        print(f"   ì „ë¬¸ ë¶„ì•¼: {', '.join(prof.get('specialty_knowledge', [])[:3])}")
        
        print(f"\n{BRIGHT_WHITE}ğŸ® ë©€í‹°í”Œë ˆì´ ì„¤ì •:{RESET}")
        print(f"   AI ì œì–´: {'í™œì„±í™”' if multiplayer.get('ai_controlled', True) else 'ë¹„í™œì„±í™”'}")
        print(f"   í˜‘ë ¥ì„±: {multiplayer.get('cooperation_level', 0.8):.1f}/1.0")
        print(f"   ë…ë¦½ì„±: {multiplayer.get('independence_level', 0.6):.1f}/1.0")
        print(f"   ì†Œí†µ ë¹ˆë„: {multiplayer.get('communication_frequency', 0.7):.1f}/1.0")
        print(f"   ì˜ì‚¬ê²°ì •: {multiplayer.get('decision_making_style', 'ê· í˜•ì _íŒë‹¨')}")
        
        print(f"\n{BRIGHT_WHITE}ğŸ’¾ AI ë°ì´í„°ë² ì´ìŠ¤:{RESET}")
        stats = database.get_statistics()
        print(f"   DB íŒŒì¼: {ai_profile.get('database_file', 'N/A')}")
        print(f"   í•™ìŠµ ì´ë²¤íŠ¸: {stats['total_learning_events']}ê°œ")
        print(f"   ê´€ê³„ ë°ì´í„°: {stats['total_relationships']}ê°œ")
        print(f"   ê²Œì„ ì§€ì‹: {stats['total_knowledge_items']}ê°œ")
        print(f"   í–‰ë™ íŒ¨í„´: {stats['total_behavioral_patterns']}ê°œ")
        print(f"   í‰ê·  ì‹ ë¢°ë„: {stats['average_trust_level']:.2f}/1.0")

def test_multiplayer_ai_creator():
    """ë©€í‹°í”Œë ˆì´ AI ìƒì„±ê¸° í…ŒìŠ¤íŠ¸"""
    print(f"{BRIGHT_CYAN}ğŸ§ª ë©€í‹°í”Œë ˆì´ AI ìºë¦­í„° ìƒì„±ê¸° í…ŒìŠ¤íŠ¸{RESET}")
    
    creator = MultiplayerAICharacterCreator()
    
    # ë‹¨ì¼ ìºë¦­í„° í…ŒìŠ¤íŠ¸
    print(f"\n{YELLOW}=== ë‹¨ì¼ AI ìºë¦­í„° ìƒì„± í…ŒìŠ¤íŠ¸ ==={RESET}")
    character = creator.create_ai_character_for_multiplayer()
    creator.display_ai_character_profile(character)
    
    # AI íŒŒí‹° í…ŒìŠ¤íŠ¸
    print(f"\n{YELLOW}=== AI ë©€í‹°í”Œë ˆì´ íŒŒí‹° ìƒì„± í…ŒìŠ¤íŠ¸ ==={RESET}")
    party = creator.create_multiplayer_party(4)
    
    print(f"\n{BRIGHT_GREEN}ğŸ“‹ ì™„ì„±ëœ AI íŒŒí‹° ìš”ì•½:{RESET}")
    for i, member in enumerate(party, 1):
        data = member['character_data']
        basic = data['basic_info']
        mp_settings = data.get('multiplayer_settings', {})
        print(f"  {i}. {basic['name']} - {basic['class']}")
        print(f"     ì„±ê²©: {basic['personality_type']} | í˜‘ë ¥ì„±: {mp_settings.get('cooperation_level', 0.8):.1f}")
    
    print(f"\n{GREEN}âœ… Phase 1 í…ŒìŠ¤íŠ¸ ì™„ë£Œ! í´ë˜ì‹ ëª¨ë“œ â†’ AI ë©€í‹°í”Œë ˆì´ ì¤€ë¹„ë¨{RESET}")

if __name__ == "__main__":
    test_multiplayer_ai_creator()
